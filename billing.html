{% extends 'base.html' %}
{% block content %}

<h2>Add Bill</h2>
<form method="POST" class="mb-4">
    <div class="form-group">
        <label for="order_id">Order ID:</label>
        <select name="order_id" class="form-control" required>
            {% for order in unbilled_orders %}
                <option value="{{ order[0] }}">{{ order[0] }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group mt-2">
        <label for="payment_mode">Payment Method:</label>
        <select name="payment_mode" class="form-control" required>
            <option value="Cash">Cash</option>
            <option value="Card">Card</option>
            <option value="UPI">UPI</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Generate Bill</button>
</form>

<hr>

<h3>All Bills</h3>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Bill ID</th>
            <th>Order ID</th>
            <th>Customer</th>
            <th>Total Amount</th>
            <th>Payment Method</th>
            <th>Date & Time</th>
        </tr>
    </thead>
    <tbody>
        {% for bill in all_bills %}
        <tr>
            <td>{{ bill[0] }}</td>
            <td>{{ bill[1] }}</td>
            <td>{{ bill[2] }}</td>
            <td>{{ bill[3] }}</td>
            <td>{{ bill[4] }}</td>
            <td>{{ bill[5] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
